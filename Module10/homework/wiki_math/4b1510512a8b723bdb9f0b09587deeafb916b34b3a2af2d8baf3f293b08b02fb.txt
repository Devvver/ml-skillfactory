Кривая Безье Кривы́е Безье́ или Кривы́е Бернште́йна — Безье́ — типы кривых, предложенные в 60-х годах XX века независимо друг от друга Пьером Безье из автомобилестроительной компании «Рено» и Полем де Кастельжо из компании «Ситроен», где применялись для проектирования кузовов автомобилей. Несмотря на то, что открытие де Кастельжо было сделано несколько ранее Безье (1959), его исследования не публиковались и скрывались компанией как производственная тайна до конца 1960-х. Кривая Безье является частным случаем многочленов Бернштейна, описанных Сергеем Натановичем Бернштейном в 1912 году. Впервые кривые были представлены широкой публике в 1962 году французским инженером Пьером Безье, который, разработав их независимо от де Кастельжо, использовал их для компьютерного проектирования автомобильных кузовов. Кривые были названы именем Безье, а именем де Кастельжо назван разработанный им рекурсивный способ определения кривых (алгоритм де Кастельжо). Впоследствии это открытие стало одним из важнейших инструментов систем автоматизированного проектирования и программ компьютерной графики. Кривая Безье относится к частному классу алгебраических кривых, а именно: к кривым 3-го и 2-го порядков соответственно.  Содержание  1 Определение 2 Виды кривых Безье  2.1 Линейные кривые 2.2 Квадратичные кривые 2.3 Кубические кривые   3 Построение кривых Безье  3.1 Линейные кривые 3.2 Квадратичные кривые 3.3 Кривые высших степеней 3.4 Свойства кривой Безье   4 Применение в компьютерной графике 5 Преобразование квадратичных кривых Безье в кубические 6 См. также 7 Примечания 8 Литература 9 Ссылки   Определение[править | править код] Кривая Безье — параметрическая кривая, задаваемая выражением       B  ( t ) =  ∑  k = 0   n     P   k     b   k , n   ( t ) ,  0 ⩽ t ⩽ 1   {\displaystyle \mathbf {B} (t)=\sum _{k=0}^{n}\mathbf {P} _{k}\mathbf {b} _{k,n}(t),\quad 0\leqslant t\leqslant 1}   где       P   k     {\displaystyle \mathbf {P} _{k}}   — функция компонент векторов опорных вершин, а       b   k , n   ( t )   {\displaystyle \mathbf {b} _{k,n}(t)}   — базисные функции кривой Безье, называемые также полиномами Бернштейна.        b   k , n   ( t ) =    (   n k   )     t  k   ( 1 − t  )  n − k     {\displaystyle \mathbf {b} _{k,n}(t)={n \choose k}t^{k}(1-t)^{n-k}}  , где        (   n k   )    =    n !   k ! ( n − k ) !      {\displaystyle {n \choose k}={\frac {n!}{k!(n-k)!}}}   — число сочетаний из     n   {\displaystyle n}   по     k   {\displaystyle k}  , где     n   {\displaystyle n}   — степень полинома,     k   {\displaystyle k}   — порядковый номер опорной вершины.  Виды кривых Безье[править | править код] Линейные кривые[править | править код]  Линейная кривая Безье При n = 1 кривая представляет собой отрезок прямой линии, опорные точки P0 и P1 определяют его начало и конец. Кривая задаётся уравнением:       B  ( t ) = ( 1 − t )   P   0   + t   P   1    t ∈ [ 0 , 1 ]   {\displaystyle \mathbf {B} (t)=(1-t)\mathbf {P} _{0}+t\mathbf {P} _{1}\quad t\in [0,1]}  . Квадратичные кривые[править | править код]  Квадратичная кривая Безье Квадратичная кривая Безье (n = 2) задаётся тремя опорными точками: P0, P1 и P2.       B  ( t ) = ( 1 − t  )  2     P   0   + 2 t ( 1 − t )   P   1   +  t  2     P   2   ,  t ∈ [ 0 , 1 ]   {\displaystyle \mathbf {B} (t)=(1-t)^{2}\mathbf {P} _{0}+2t(1-t)\mathbf {P} _{1}+t^{2}\mathbf {P} _{2},\quad t\in [0,1]}  . Квадратичные кривые Безье в составе сплайнов используются для описания формы символов в шрифтах TrueType и в SWF файлах.      t =      P   0   −   P   1   ±   (   P   0   − 2   P   1   +   P   2   )  B  +   P   1   2   −   P   0     P   2         P   0   − 2   P   1   +   P   2      ,    P   0   − 2   P   1   +   P   2   ≠ 0   {\displaystyle t={\frac {\mathbf {P} _{0}-\mathbf {P} _{1}\pm {\sqrt {(\mathbf {P} _{0}-2\mathbf {P} _{1}+\mathbf {P} _{2})\mathbf {B} +\mathbf {P} _{1}^{2}-\mathbf {P} _{0}\mathbf {P} _{2}}}}{\mathbf {P} _{0}-2\mathbf {P} _{1}+\mathbf {P} _{2}}},\quad \mathbf {P} _{0}-2\mathbf {P} _{1}+\mathbf {P} _{2}\neq 0}       t =     B  −   P   0     2 (   P   1   −   P   0   )    ,    P   0   − 2   P   1   +   P   2   = 0 ,    P   0   ≠   P   1     {\displaystyle t={\frac {\mathbf {B} -\mathbf {P} _{0}}{2(\mathbf {P} _{1}-\mathbf {P} _{0})}},\quad \mathbf {P} _{0}-2\mathbf {P} _{1}+\mathbf {P} _{2}=0,\quad \mathbf {P} _{0}\neq \mathbf {P} _{1}}       t =      B  −   P   0       P   2   −   P   1       ,    P   0   =   P   1   ≠   P   2     {\displaystyle t={\sqrt {\frac {\mathbf {B} -\mathbf {P} _{0}}{\mathbf {P} _{2}-\mathbf {P} _{1}}}},\quad \mathbf {P} _{0}=\mathbf {P} _{1}\neq \mathbf {P} _{2}}   Кубические кривые[править | править код]  Кубическая кривая Безье В параметрической форме кубическая кривая Безье (n = 3) описывается следующим уравнением:       B  ( t ) = ( 1 − t  )  3     P   0   + 3 t ( 1 − t  )  2     P   1   + 3  t  2   ( 1 − t )   P   2   +  t  3     P   3   ,  t ∈ [ 0 , 1 ]   {\displaystyle \mathbf {B} (t)=(1-t)^{3}\mathbf {P} _{0}+3t(1-t)^{2}\mathbf {P} _{1}+3t^{2}(1-t)\mathbf {P} _{2}+t^{3}\mathbf {P} _{3},\quad t\in [0,1]}  . Четыре опорные точки P0, P1, P2 и P3, заданные в 2- или 3-мерном пространстве, определяют форму кривой. Линия берёт начало из точки P0, направляясь к P1 и заканчивается в точке P3, подходя к ней со стороны P2. То есть, кривая не проходит через точки P1 и P2, они используются для указания её направления. Длина отрезка между P0 и P1 определяет, как скоро кривая повернёт к P3. В матричной форме кубическая кривая Безье записывается следующим образом:       B  ( t ) =   [     t  3      t  2     t   1    ]     M   B     [      P   0         P   1         P   2         P   3      ]     {\displaystyle \mathbf {B} (t)={\begin{bmatrix}t^{3}&t^{2}&t&1\end{bmatrix}}\mathbf {M} _{B}{\begin{bmatrix}\mathbf {P} _{0}\\\mathbf {P} _{1}\\\mathbf {P} _{2}\\\mathbf {P} _{3}\end{bmatrix}}}  , где       M   B     {\displaystyle \mathbf {M} _{B}}   называется базисной матрицей Безье:        M   B   =   [    − 1   3   − 3   1     3   − 6   3   0     − 3   3   0   0     1   0   0   0    ]     {\displaystyle \mathbf {M} _{B}={\begin{bmatrix}-1&3&-3&1\\3&-6&3&0\\-3&3&0&0\\1&0&0&0\end{bmatrix}}}   В современных графических системах и форматах, таких как PostScript (а также основанные на нём форматы Adobe Illustrator и Portable Document Format (PDF)), Scalable Vector Graphics (SVG)[1], Metafont, CorelDraw и GIMP для представления криволинейных форм используются сплайны Безье, составленные из кубических кривых.  Построение кривых Безье[править | править код] Линейные кривые[править | править код] Параметр t в функции, описывающей линейный случай кривой Безье, определяет, где именно на расстоянии от P0 до P1 находится B(t). Например, при t = 0,25 значение функции B(t) соответствует четверти расстояния между точками P0 и P1. Параметр t изменяется от 0 до 1, а B(t) описывает отрезок прямой между точками P0 и P1.      Квадратичные кривые[править | править код] Для построения квадратичных кривых Безье требуется выделение двух промежуточных точек Q0 и Q1 из условия, чтобы параметр t изменялся от 0 до 1:  Точка Q0 изменяется от P0 до P1 и описывает линейную кривую Безье. Точка Q1 изменяется от P1 до P2 и также описывает линейную кривую Безье. Точка B изменяется от Q0 до Q1 и описывает квадратичную кривую Безье.    Построение квадратичной кривой Безье    Анимация t: [0;1]  Кривые высших степеней[править | править код] Для построения кривых высших порядков соответственно требуется и больше промежуточных точек. Для кубической кривой это промежуточные точки Q0, Q1 и Q2, описывающие линейные кривые, а также точки R0 и R1, которые описывают квадратичные кривые: более простое уравнение         P  0    Q  0      P  0    P  1      =     Q  1    P  1      P  1    P  2      =    B  Q  0      Q  1    Q  0        {\displaystyle {\frac {P_{0}Q_{0}}{P_{0}P_{1}}}={\frac {Q_{1}P_{1}}{P_{1}P_{2}}}={\frac {BQ_{0}}{Q_{1}Q_{0}}}}  .     Построение кубической кривой Безье    Анимация t: [0;1]  Для кривых четвёртой степени это будут точки Q0, Q1, Q2 и Q3, описывающие линейные кривые, R0, R1 и R2, которые описывают квадратичные кривые, а также точки S0 и S1, описывающие кубические кривые Безье:     Построение кривой Безье 4-й степени    Анимация t: [0;1]  Свойства кривой Безье[править | править код]   непрерывность заполнения сегмента между начальной и конечной точками; кривая всегда располагается внутри фигуры, образованной линиями, соединяющими контрольные точки; при наличии только двух контрольных точек сегмент представляет собой прямую линию; прямая линия образуется при коллинеарном (на одной прямой) размещении управляющих точек; кривая Безье симметрична, то есть обмен местами между начальной и конечной точками (изменение направления траектории) не влияет на форму кривой; масштабирование и изменение пропорций кривой Безье не нарушает её стабильности, так как она с математической точки зрения «аффинно инвариантна»; изменение координат хотя бы одной из точек ведет к изменению формы всей кривой Безье; любой частичный отрезок кривой Безье также является кривой Безье; степень (порядок) кривой всегда на одну ступень меньше числа контрольных точек. Например, при трех контрольных точках форма кривой — парабола, так как парабола — кривая 2-го порядка; окружность не может быть описана параметрическим уравнением кривой Безье; невозможно создать параллельные кривые Безье, за исключением тривиальных случаев (прямые линии и совпадающие кривые), хотя существуют алгоритмы, строящие приближённую параллельную кривую Безье с приемлемой для практики точностью. Применение в компьютерной графике[править | править код] Основная статья: Компьютерная графика Благодаря простоте задания и манипуляции, кривые Безье нашли широкое применение в компьютерной графике для моделирования гладких линий. Кривая целиком лежит в выпуклой оболочке своих опорных точек. Это свойство кривых Безье с одной стороны значительно облегчает задачу нахождения точек пересечения кривых (если не пересекаются выпуклые оболочки опорных точек, то не пересекаются и сами кривые), а с другой стороны позволяет осуществлять интуитивно понятное управление параметрами кривой в графическом интерфейсе с помощью её опорных точек. Кроме того, аффинные преобразования кривой (перенос, масштабирование, вращение и др.) также могут быть осуществлены путём применения соответствующих трансформаций к опорным точкам. Наибольшее значение имеют кривые Безье второй и третьей степеней (квадратичные и кубические). Кривые высших степеней при обработке требуют большего объёма вычислений и для практических целей используются реже. Для построения сложных по форме линий отдельные кривые Безье могут быть последовательно соединены друг с другом в сплайн Безье. Для того, чтобы обеспечить гладкость линии в месте соединения двух кривых, три смежные опорные точки обеих кривых должны лежать на одной прямой. В программах векторной графики, например Adobe Illustrator или Inkscape, подобные фрагменты известны под названием «путей» (path), а в 3DS Max и подобных программах 3D-моделирования кривые Безье имеют название «сплайны».  Преобразование квадратичных кривых Безье в кубические[править | править код] Квадратичная кривая Безье с координатами     (  x  0   ;  y  0   ) ,  (  x  1   ;  y  1   ) ,  (  x  2   ;  y  2   )   {\displaystyle (x_{0};y_{0}),\,(x_{1};y_{1}),\,(x_{2};y_{2})}   преобразовывается в кубическую кривую Безье с координатами     (  x  0   ;  y  0   ) ,   (   x  0   +    2 ⋅ (  x  1   −  x  0   )  3   ;  y  0   +    2 ⋅ (  y  1   −  y  0   )  3    )  ,   (   x  1   +     x  2   −  x  1    3   ;  y  1   +     y  2   −  y  1    3    )  ,  (  x  2   ;  y  2   )   {\displaystyle (x_{0};y_{0}),\,\left(x_{0}+{\frac {2\cdot (x_{1}-x_{0})}{3}};y_{0}+{\frac {2\cdot (y_{1}-y_{0})}{3}}\right),\,\left(x_{1}+{\frac {x_{2}-x_{1}}{3}};y_{1}+{\frac {y_{2}-y_{1}}{3}}\right),\,(x_{2};y_{2})}  .  См. также[править | править код] .mw-parser-output .ts-Родственные_проекты{background:#f8f9fa;border:1px solid #a2a9b1;clear:right;float:right;font-size:90%;margin:0 0 1em 1em;padding:.5em .75em}.mw-parser-output .ts-Родственные_проекты th,.mw-parser-output .ts-Родственные_проекты td{padding:.25em 0;vertical-align:middle}.mw-parser-output .ts-Родственные_проекты td{padding-left:.5em}     Кривая Безье на Викискладе   Поверхность Безье NURBS B-сплайн Кривые Примечания[править | править код]   ↑ World Wide Web Consortium (W3C). Scalable Vector Graphics (SVG) 1.1 (Second Edition). Chapter 8: Paths (англ.) ? (16 августа 2011). — W3C Recommendation. Проверено 21 мая 2012. Архивировано 24 июня 2012 года.   Литература[править | править код] Роджерс Д., Адамс Дж. Математические основы машинной графики. — М.: Мир, 2001. Ссылки[править | править код] Wolfram Math World Bézier Curve (англ.) American Mathematical Society From Bézier to Bernstein (англ.) Кривые Безье в компьютерных играх [1] (рус.) Часы на кривых Безье (рус.) A Primer on Bézier Curves КривыеОпределения Аналитическая Жордана Канторова Урысона Уникурсальная Рациональная нормальная Овал Овоид Длина Кривизна Преобразованные Эволюта Эвольвента окружности Подера Антиподера Параллельная (эквидистанта) Двойственная Конхоида Никомеда, Слюза Инверсия Циссоида Неплоские Вивиани Винтовая линия Линия откоса Локсодрома Ортодромия Пространственная кардиоида Клелия[en] ПлоскиеалгебраическиеКонические сечения Гипербола Парабола Эллипс Окружность Прямая 3-й порядокЭллиптические Эллиптическая кривая Эллиптические функции Якоби Эллиптический интеграл Эллиптические функции Другие Верзьера Аньези Декартов лист Кубика Трисектриса Маклорена Чирнгауза Офиурида Полукубическая парабола Строфоида Трезубец Циссоида Диокла 4-й порядок Каппа Кардиоида Уатта Персея Овал Декарта Лемнискаты Бернулли Овал Кассини Бута Жероно Аппроксимационные Сплайн B-сплайн Кубический Моносплайн Сглаживающий Совершенный Эрмита) Безье Циклоидальные Кардиоида Нефроида Дельтоида Астроида Улитка Паскаля Другие Кривая Ферма Кубическая ПлоскиетрансцендентныеСпирали Архимедова Ферма Галилея Гиперболическая «Жезл» Золотая Клотоида Логарифмическая Синусоидальная Циклоидальные Циклоида Эпициклоида Гипоциклоида Трохоида Удлинённая Укороченная циклоида Эпитрохоида Удлинённая Укороченная эпициклоида («Роза», Квадрифолий) Гипотрохоида Квазитрохоида Скорейшего спуска (Брахистохрона, дуга циклоиды) Другие Квадратриса Кохлеоида Погони Трактриса Трохоида Цепная линия перевёрнутая арочная Постоянной ширины Синусоида Рибокура Суперформула Суперэллипс) Треугольник Рёло многоугольник) Фигуры Лиссажу ФрактальныеПростые Гильберта Госпера Кривая дракона Коха Леви Минковского Пеано Серпинского Топологические Салфетка Серпинского Ковёр Серпинского Губка Менгера Круговой фрактал Сетка Аполлония     